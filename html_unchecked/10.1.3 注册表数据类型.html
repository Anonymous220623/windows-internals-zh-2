<h3 class="bt3" id="sigil_toc_id_109">10.1.3　注册表数据类型</h3>
<p class="zw">注册表是一种数据库，其结构类似于磁盘卷。注册表中包含键（Key，类似于磁盘上的目录）和值（Value，类似于磁盘中的文件）。键是一种容器，可包含其他键（子键）或值，而值可用于存储数据。顶级键是根键。在本节中，我们会交替使用“子键”和“键”这两个词。</p>
<p class="zw">键和值都借鉴了文件系统的命名约定，因此可以通过名称标记（name mark）以唯一的方式识别一个值，而这种名称标记以“Trade\Mark”形式存储在一个名为Trade的键中。每个键的未命名值是这种命名方案唯一的例外，注册表编辑器会将未命名的值显示为“(Default)”。</p>
<p class="zw">值可存储不同类型的数据，数据类型共有12种，如表10-1所示。大部分注册表值的类型为REG_DWORD、REG_BINARY或REG_SZ。REG_DWORD值类型可以存储数字或布尔逻辑值（true/false），REG_BINARY值类型可存储大于32位的数字或加密后的密码等原始数据，REG_SZ值类型可存储代表名称、文件名、路径、类型等元素的字符串（当然，仅限Unicode编码方式）。</p>
<p class="表题">表10-1　注册表值的类型</p>
<table> 
 <tbody> 
  <tr> 
   <th> <p class="bt">值类型</p> </th> 
   <th> <p class="bt">描述</p> </th> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_NONE</p> </td> 
   <td> <p class="bg">无值类型</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_SZ</p> </td> 
   <td> <p class="bg">定长Unicode字符串</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_EXPAND_SZ</p> </td> 
   <td> <p class="bg">可嵌入环境变量的可变长度Unicode字符串</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_BINARY</p> </td> 
   <td> <p class="bg">任意长度的二进制数据</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_DWORD</p> </td> 
   <td> <p class="bg">32位数字</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_DWORD_BIG_ENDIAN</p> </td> 
   <td> <p class="bg">高字节在前的32位数字</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_LINK</p> </td> 
   <td> <p class="bg">Unicode符号链接</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_MULTI_SZ</p> </td> 
   <td> <p class="bg">Unicode以NULL结尾的字符串数组</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_RESOURCE_LIST</p> </td> 
   <td> <p class="bg">硬件资源列表</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_FULL_RESOURCE_DESCRIPTOR</p> </td> 
   <td> <p class="bg">硬件资源描述</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_RESOURCE_REQUIREMENTS_LIST</p> </td> 
   <td> <p class="bg">资源要求列表</p> </td> 
  </tr> 
  <tr> 
   <td> <p class="bg">REG_QWORD</p> </td> 
   <td> <p class="bg">64位数字</p> </td> 
  </tr> 
 </tbody> 
</table>
<p class="zw"></p>
<p class="zw">REG_LINK值类型特别有趣，它可以让一个键以透明的方式指向另外一个键。当通过链接遍历注册表时，路径搜索工作还会在链接的目标位置处继续。举例来说，如果\Root1\Link有一个REG_LINK值为\Root2\RegKey，而RegKey包含值RegValue，那么可以通过两个路径来识别RegValue，即\Root1\Link\RegValue和\Root2\RegKey\RegValue。下一节将会介绍，Windows大量使用了注册表链接：六个注册表根键中有三个实际上链接到了另外三个非链接根键下的子键上。</p>

<p class="epubit-contents-id" style="display: none">{"index":2,"parentId":"5a53b69b-1f5b-45b1-989a-6fe8c9cf2a82","id":"9c6d0670-dc62-4c3f-b7df-9ec8a3cb85d6"}</p>