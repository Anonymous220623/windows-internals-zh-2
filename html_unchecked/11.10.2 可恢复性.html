<h3 class="bt3" id="sigil_toc_id_231">11.10.2　可恢复性</h3>
<p class="zw">为了满足可靠的数据存储和数据访问的要求，NTFS提供了基于原子性事务概念的文件系统恢复能力。原子性事务是一种数据库内容的修改处理技术，保证了系统故障不会影响到数据库的一致性或完整性。原子性事务的基本原则是：名为事务（transaction）的数据库操作是一种全有或全无（all-or-nothing）的操作（事务被定义为会更改文件系统数据或更改卷的目录结构的I/O操作）。构成事务的独立磁盘更新必须以原子性的方式执行，也就是说，一旦事务开始执行，所有磁盘更新操作就必须完成。如果系统故障导致事务中断，那么已完成的部分必须撤销或回滚。回滚操作可将数据库返回至之前已知的一致状态，就好像事务从未执行过那样。</p>
<p class="zw">NTFS使用原子性事务来实现自己的文件系统恢复功能。如果程序发起的I/O操作会改变NTFS卷结构（例如更改目录结构、扩展一个文件、为新文件分配空间等），NTFS就会将该操作视为一种原子性事务。它会保证事务或能成功完成，或者如果在执行过程中系统出错也可成功回滚。下文“NTFS恢复支持”一节将详细介绍NTFS实现该功能的细节。此外，NTFS会对重要文件系统信息使用冗余的存储，这样，即使磁盘上的一个扇区坏了，NTFS依然可以访问卷的关键文件系统数据。</p>

<p class="epubit-contents-id" style="display: none">{"index":1,"parentId":"4e1b28f8-e2a9-4fda-aeea-4d6f22a941c7","id":"38498baa-337d-4783-8e80-12a13acbbce8"}</p>