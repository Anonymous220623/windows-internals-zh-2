<h3 class="bt3" id="sigil_toc_id_233">11.10.4　数据冗余和容错</h3>
<p class="zw">除了文件系统数据的可恢复性，一些客户还希望自己的数据不因电源故障或灾难性磁盘故障而受到威胁。NTFS的恢复能力确保了卷上的文件系统能保持可访问性，但无法保证用户文件的完整恢复。为了向不能承受数据丢失风险的应用程序提供保护，我们可以采用数据冗余机制。</p>
<p class="zw">用户文件的数据冗余是通过Windows分层驱动程序实现的，这样为磁盘提供了容错支持。NTFS可以与卷管理器通信，卷管理器则与磁盘驱动器通信，借此将数据写入磁盘。卷管理器可以将数据从一个磁盘镜像（或复制）到另一个磁盘中，这样数据就有了一个随时可用的冗余副本。这种支持通常也叫RAID级别1。卷管理器还可以通过三个或更多的磁盘，以条带的方式写入数据，并使用相当于一个磁盘的容量来存储奇偶校验信息。如果一个磁盘上的数据丢失或不可访问，驱动程序即可通过异或运算（exclusive-OR）重建磁盘内容，这种支持也叫RAID级别5。</p>
<p class="zw">在Windows 7中，通过Windows分层驱动程序实现的NTFS数据冗余是由动态磁盘功能提供的。动态磁盘有很多局限，Windows 8.1通过引入一种名为存储空间的全新存储硬件虚拟化技术克服了这些局限。存储空间可以创建已提供数据冗余和容错能力的虚拟磁盘。卷管理器并不区分虚拟磁盘和真实磁盘（因此用户模式组件也看不出两者间的差异）。NTFS文件系统驱动程序与存储空间配合，可支持分层磁盘和RAID虚拟配置。下文还将详细介绍存储空间和存储空间直通。</p>

<p class="epubit-contents-id" style="display: none">{"index":3,"parentId":"4e1b28f8-e2a9-4fda-aeea-4d6f22a941c7","id":"a79bcb55-6552-4c5d-a12b-470ea4bec69f"}</p>