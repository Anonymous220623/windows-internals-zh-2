<h3 class="bt3" id="sigil_toc_id_312">11.16.7　ReFS在磁盘上的结构</h3>
<p class="zw">与上文有关NTFS的小节类似，本节介绍了ReFS卷的磁盘结构。本节将专注于NTFS和ReFS之间的差异，不再涉及上文已经介绍过的概念。</p>
<p class="zw">与NTFS类似，ReFS卷的引导扇区也包含一个小型数据结构，其中包含基础的卷信息（如序列号、簇大小等）、文件系统标识符（ReFS OEM字符串和版本），以及ReFS容器大小（详见下文“叠瓦式磁记录卷”一节）。卷中最重要的数据结构是卷超级块（Volume Super Block），其中包含最新卷检查点记录的偏移量，会被复制到三个不同的簇中。当挂载卷时，ReFS会读取其中一个卷检查点，验证并解析其内容（检查点记录包含校验值），最终得到每个全局表的偏移量。</p>
<p class="zw">卷挂载过程会打开对象表，获得读取根目录所需的信息，其中包含构成卷命名空间的所有目录树。对象表和容器表是最关键的数据结构之一，同时也是所有卷元数据的起点。容器表公开了虚拟化命名空间，如果没有它，ReFS将无法正确识别任何簇的最终位置。作为一种可选功能，Minstore可以让客户端在自己的对象表行中存储一些信息。对象表行的值如图11-87所示，其中包含两个不同部分：被Minstore拥有的部分，以及被ReFS拥有的部分。ReFS还会存储一些父信息，以及目录中高水位线的USN编号（详见下文“安全性和变更日志”一节）。</p>
<p class="图"></p>
<img src="../res/pubcloud/5B0A982E/ushu/UBda647ada3435/online/FBOLda82494f5f9f/Images/tx3459.png" style="width: 100%" />
<p class="图题">图11-87 由ReFS部分（下方矩形框）和Minstore部分（上方矩形框）组成的对象表项</p>

<p class="epubit-contents-id" style="display: none">{"index":6,"parentId":"4bbec909-3cd8-4eac-81f1-9dd5481ba72c","id":"6857a623-a17d-4328-9a5f-f280b2690f4a"}</p>